<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <meta http-equiv=Content-Type content="text/html;charset=utf-8">
    <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
    <title>Openlayer</title>
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/build/ol.js"></script>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/css/ol.css">
    <script
        src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.4/proj4.js"></script>
    <script src="http://epsg.io/21461-1753.js" type="text/javascript"></script>
</head>

<body>
    <div id="map"></div>
</body>

</html>
<script type="text/javascript">
    import {
        Map,
        View
    } from 'ol';
    import {
        getTianditu
    } from './js/tianditu'
    import {
        register
    } from 'ol/proj/proj4';
    import proj4 from 'proj4';

    proj4.defs("EPSG:4490",
        "GEOGCS[\"China Geodetic Coordinate System 2000\",DATUM[\"China_2000\",SPHEROID[\"CGCS2000\",6378137,298.257222101,AUTHORITY[\"EPSG\",\"1024\"]],AUTHORITY[\"EPSG\",\"1043\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AUTHORITY[\"EPSG\",\"4490\"]]"
        );
    register(proj4);

    var map = new Map({
        target: "map",
        view: new View({
            center: [116.391478, 39.903185],
            // center: [11936406.337013, 3786384.633134],
            projection: "EPSG:4490",
            zoom: 5,
            maxZoom: 18,
            minZoom: 1
        })
    });
    var tdt = getTianditu({
        type: '矢量底图',
        // proj: '球面墨卡托投影',
        proj: '经纬度投影',

        key: '320109f58cbb412b31e478ddc5c651bd'
    });
    var zz = getTianditu({
        type: '矢量注记',
        // proj: '球面墨卡托投影',
        proj: '经纬度投影',

        key: '320109f58cbb412b31e478ddc5c651bd'
    })
    var jj = getTianditu({
        type: '全球境界',
        // proj: '球面墨卡托投影',
        proj: '经纬度投影',

        key: '320109f58cbb412b31e478ddc5c651bd'
    })
    map.addLayer(tdt)
    map.addLayer(zz)
    map.addLayer(jj)
</script>